(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1867:function(e,t,r){Promise.resolve().then(r.bind(r,3366))},3366:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),s=r(9376),a=r(3301),o=r(1694);let i=(0,r(9763).Z)("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);var c=r(2265);function l(){let e=(0,s.useRouter)(),[t,r]=(0,c.useState)(!1),[l,u]=(0,c.useState)(!1);(0,c.useEffect)(()=>{u("electron"===new URLSearchParams(window.location.search).get("mode"))},[]);let d=async()=>{let t=new a.hJ;r(!0);try{let r=(await (0,a.rh)(o.I8,t)).user;if(r){if(console.log("✅ Google login successful:",r.uid),l)try{let e=await r.getIdToken(),t="echomind://auth-success?"+new URLSearchParams({uid:r.uid,email:r.email||"",displayName:r.displayName||"",token:e}).toString();console.log("\uD83D\uDD17 Return to electron app via deep link:",t),window.location.href=t}catch(e){console.error("❌ Deep link processing failed:",e),alert("Login was successful but failed to return to app. Please check the app.")}else if(window.require)try{let{ipcRenderer:e}=window.require("electron"),t=await r.getIdToken();e.send("firebase-auth-success",{uid:r.uid,displayName:r.displayName,email:r.email,idToken:t}),console.log("\uD83D\uDCE1 Auth info sent to electron successfully")}catch(e){console.error("❌ Electron communication failed:",e)}else e.push("/settings")}}catch(e){console.error("❌ Google login failed:",e),"auth/popup-closed-by-user"!==e.code&&alert("An error occurred during login. Please try again.")}finally{r(!1)}};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to EchoMind"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in with your Google account to sync your data across all devices."}),l?(0,n.jsx)("p",{className:"text-sm text-blue-600 mt-1 font-medium",children:"\uD83D\uDD17 Login requested from Electron app"}):(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Local mode will run if you don't sign in."})]}),(0,n.jsxs)("div",{className:"w-full max-w-sm",children:[(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-200",children:[(0,n.jsxs)("button",{onClick:d,disabled:t,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,n.jsx)(i,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:t?"Signing in...":"Sign in with Google"})]}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsx)("button",{onClick:()=>{l?window.location.href="echomind://auth-success?uid=default_user&email=contact@echomind.com&displayName=Default%20User":e.push("/settings")},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Continue in local mode"})})]}),(0,n.jsx)("p",{className:"text-center text-xs text-gray-500 mt-6",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]})]})}},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,n.forwardRef)((r,o)=>{let{color:i="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:m,...h}=r;return(0,n.createElement)("svg",{ref:o,...s,width:c,height:c,stroke:i,strokeWidth:u?24*Number(l)/Number(c):l,className:["lucide","lucide-".concat(a(e)),d].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},1694:function(e,t,r){"use strict";r.d(t,{I8:function(){return i},RZ:function(){return c}});var n=r(738),s=r(3301),a=r(5978);let o=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)({apiKey:"AIzaSyAgtJrmsFWG1C7m9S55HyT1laICEzuUS2g",authDomain:"echomind-3651a.firebaseapp.com",projectId:"echomind-3651a",storageBucket:"echomind-3651a.firebasestorage.app",messagingSenderId:"904706892885",appId:"1:904706892885:web:0e42b3dda796674ead20dc",measurementId:"G-SQ0WM6S28T"}),i=(0,s.v0)(o),c=(0,a.ad)(o)}},function(e){e.O(0,[358,990,915,971,117,744],function(){return e(e.s=1867)}),_N_E=e.O()}]);