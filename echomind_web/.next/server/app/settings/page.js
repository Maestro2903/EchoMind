(()=>{var e={};e.id=938,e.ids=[938],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},665:e=>{"use strict";e.exports=require("dns")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},7268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(7322),s(5392),s(5866);var r=s(3191),a=s(8716),n=s(7922),o=s.n(n),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7322)),"/Users/shreeshanthr/Documents/echomind 3/echomind_web/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5392)),"/Users/shreeshanthr/Documents/echomind 3/echomind_web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/shreeshanthr/Documents/echomind 3/echomind_web/app/settings/page.tsx"],u="/settings/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2063:(e,t,s)=>{Promise.resolve().then(s.bind(s,7299))},7299:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(326),a=s(7577),n=s(6557);let o=(0,n.Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),i=(0,n.Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var l=s(5955),d=s(8738),c=s(5047);function u(){let{user:e,isLoading:t,mode:s}=(0,l.a)(),[n,u]=(0,a.useState)("profile"),[m,x]=(0,a.useState)(null),[p,h]=(0,a.useState)(!1),[y,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(""),N=(0,c.useRouter)();if(t)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!e)return N.push("/login"),null;let w="firebase"===s,k=async()=>{f(!0);try{await (0,d.ks)(y),h(!0),g(""),window.ipcRenderer&&window.ipcRenderer.invoke("save-api-key",y)}catch(e){console.error("Failed to save API key:",e)}finally{f(!1)}},P=async()=>{if(m&&j!==m.display_name){f(!0);try{await (0,d.Lj)({displayName:j}),x(e=>e?{...e,display_name:j}:null)}catch(e){console.error("Failed to update display name:",e)}finally{f(!1)}}},q=async()=>{let e=w?"Are you sure you want to delete your account? This action cannot be undone and all data stored in Firebase will be deleted.":"Are you sure you want to delete your account? This action cannot be undone and all data will be deleted.";if(window.confirm(e))try{await (0,d.tm)(),N.push("/login")}catch(e){console.error("Failed to delete account:",e)}},_=async()=>{try{await (0,d.kS)()}catch(e){console.error("Logout failed:",e)}};return r.jsx("div",{className:"bg-stone-50 min-h-screen",children:(0,r.jsxs)("div",{className:"px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Settings"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Personal Settings"})]}),r.jsx("div",{className:"mb-8",children:r.jsx("nav",{className:"flex space-x-10",children:[{id:"profile",name:"Personal Profile",href:"/settings"}].map(e=>r.jsx("a",{href:e.href,onClick:()=>u(e.id),className:`pb-4 px-2 border-b-2 font-medium text-sm transition-colors ${n===e.id?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.name},e.id))})}),"profile"===n?(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:`p-4 rounded-lg border ${w?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[w?r.jsx(o,{className:"h-5 w-5 text-blue-600"}):r.jsx(i,{className:"h-5 w-5 text-gray-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:`font-semibold ${w?"text-blue-900":"text-gray-900"}`,children:w?"Firebase Hosting Mode":"Local Execution Mode"}),r.jsx("p",{className:`text-sm ${w?"text-blue-700":"text-gray-700"}`,children:w?`Logged in with Google account (${e.email})`:"Running as local user"})]})]}),w&&r.jsx("button",{onClick:_,className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 underline",children:"Logout"})]})}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Display Name"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your full name or a display name you're comfortable using."}),(0,r.jsxs)("div",{className:"max-w-sm",children:[r.jsx("input",{type:"text",id:"display-name",value:j,onChange:e=>v(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-black",maxLength:32}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can use up to 32 characters."})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:P,disabled:b||!j||j===m?.display_name,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50",children:"Update"})})]}),!w&&(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"API Key"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If you want to use your own LLM API key, you can add it here. It will be used for all requests made by the local application."}),(0,r.jsxs)("div",{className:"max-w-sm",children:[r.jsx("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("input",{type:"password",id:"api-key",value:y,onChange:e=>g(e.target.value),className:"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-black",placeholder:"Enter new API key or existing API key"})}),p?r.jsx("p",{className:"text-xs text-green-600 mt-2",children:"API key is currently set."}):r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No API key set. Using free system."})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:k,disabled:b||!y,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50",children:b?"Saving...":"Save"})})]}),(w||!w&&!p)&&(0,r.jsxs)("div",{className:"bg-white border border-red-300 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Delete Account"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:w?"Permanently remove your Firebase account and all content. This action cannot be undone, so please proceed carefully.":"Permanently remove your personal account and all content from the EchoMind platform. This action cannot be undone, so please proceed carefully."}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:q,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})})]})]}):r.jsx("div",{className:"space-y-6"})]})})}},7322:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/shreeshanthr/Documents/echomind 3/echomind_web/app/settings/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[230,808],()=>s(7268));module.exports=r})();